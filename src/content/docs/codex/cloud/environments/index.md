---
title: 'Cloud environments'
description: 'Cloud 작업 중 Codex가 설치하고 실행하는 내용을 제어하려면 환경을 사용하세요. 예를 들어, 종속성을 추가하거나 린터 및 포매터 같은 도구를 설치하고 환경 변수를 설정할 수 있습니다.'
---

Source URL: https://developers.openai.com/codex/cloud/environments

# Cloud environments

Cloud 작업 중 Codex가 설치하고 실행하는 내용을 제어하려면 환경을 사용하세요. 예를 들어, 종속성을 추가하거나 린터 및 포매터 같은 도구를 설치하고 환경 변수를 설정할 수 있습니다.

[Codex 설정](https://chatgpt.com/codex/settings/environments)에서 환경을 구성하세요.

## Codex 클라우드 작업 실행 방식

작업을 제출하면 다음이 수행됩니다:

1. Codex가 컨테이너를 생성하고 선택한 브랜치 또는 커밋 SHA에서 리포지토리를 체크아웃합니다.
2. Codex가 설정 스크립트를 실행하며, 캐시된 컨테이너가 재개될 때 선택적인 유지관리 스크립트도 실행합니다.
3. Codex가 인터넷 액세스 설정을 적용합니다. 설정 스크립트는 인터넷 액세스가 허용된 상태에서 실행됩니다. 에이전트 인터넷 액세스는 기본적으로 꺼져 있지만, 필요에 따라 제한적 또는 무제한 액세스를 활성화할 수 있습니다. 자세한 내용은 [에이전트 인터넷 액세스](https://developers.openai.com/codex/cloud/internet-access)를 참조하세요.
4. 에이전트는 반복적으로 터미널 명령을 실행합니다. 코드를 편집하고, 검사를 실행하며, 작업 결과를 검증하려고 합니다. 리포지토리에 `AGENTS.md`가 포함된 경우, 에이전트는 프로젝트별 린트 및 테스트 명령을 찾기 위해 해당 파일을 사용합니다.
5. 에이전트가 종료되면 결과와 변경한 파일의 diff를 표시합니다. PR을 열거나 후속 질문을 할 수 있습니다.

## 기본 통합 이미지

Codex 에이전트는 `universal`이라는 기본 컨테이너 이미지에서 실행되며, 일반적인 언어, 패키지, 도구가 미리 설치되어 있습니다.

환경 설정에서 **패키지 버전 설정(Set package versions)**을 선택하여 Python, Node.js 및 기타 런타임의 버전을 고정할 수 있습니다.

설치된 항목에 대한 자세한 내용은 참조 Dockerfile과 로컬에서 가져와 테스트할 수 있는 이미지를 제공하는 [openai/codex-universal](https://github.com/openai/codex-universal)을 참고하세요.

`codex-universal`에는 속도와 편의를 위해 언어가 미리 설치되어 있지만, [설정 스크립트](#manual-setup)를 사용하여 컨테이너에 추가 패키지를 설치할 수도 있습니다.

## 환경 변수 및 시크릿

**환경 변수**는 작업 전체 기간(설정 스크립트 및 에이전트 단계 포함) 동안 설정됩니다.

**시크릿**은 환경 변수와 비슷하지만 다음과 같습니다:

- 추가 암호화 계층으로 저장되며 작업 실행 시에만 복호화됩니다.
- 설정 스크립트에서만 사용할 수 있습니다. 보안상의 이유로 시크릿은 에이전트 단계가 시작되기 전에 제거됩니다.

## 자동 설정

공통 패키지 관리자(`npm`, `yarn`, `pnpm`, `pip`, `pipenv`, `poetry`)를 사용하는 프로젝트의 경우 Codex가 종속성과 도구를 자동으로 설치할 수 있습니다.

## 수동 설정

개발 설정이 더 복잡한 경우 사용자 정의 설정 스크립트를 제공할 수도 있습니다. 예:

```bash
# Install type checker
pip install pyright

# Install dependencies
poetry install --with test
pnpm install
```

설정 스크립트는 에이전트와 별도의 Bash 세션에서 실행되므로 `export`와 같은 명령은 에이전트 단계에 지속되지 않습니다. 환경 변수를 유지하려면 `~/.bashrc`에 추가하거나 환경 설정에서 구성하세요.

## 컨테이너 캐시

Codex는 새 작업과 후속 작업을 빠르게 수행하기 위해 최대 12시간 동안 컨테이너 상태를 캐시합니다.

환경이 캐시되면:

- Codex가 리포지토리를 복제하고 기본 브랜치를 체크아웃합니다.
- Codex가 설정 스크립트를 실행하고 결과 컨테이너 상태를 캐시합니다.

캐시된 컨테이너가 재개되면:

- Codex가 작업에 지정된 브랜치를 체크아웃합니다.
- Codex가 유지관리 스크립트(선택 사항)를 실행합니다. 이는 설정 스크립트가 이전 커밋에서 실행되어 종속성을 업데이트해야 할 때 유용합니다.

설정 스크립트, 유지관리 스크립트, 환경 변수 또는 시크릿을 변경하면 Codex가 자동으로 캐시를 무효화합니다. 캐시된 상태가 더 이상 호환되지 않는 방식으로 리포지토리가 변경된 경우 환경 페이지에서 **캐시 재설정(Reset cache)**을 선택하세요.

Business 및 Enterprise 사용자의 경우 캐시는 해당 환경에 액세스 권한이 있는 모든 사용자에게 공유됩니다. 캐시를 무효화하면 워크스페이스 내 환경을 사용하는 모든 사용자에게 영향을 미칩니다.

## 인터넷 액세스 및 네트워크 프록시

종속성을 설치하기 위해 설정 스크립트 단계에서는 인터넷 액세스를 사용할 수 있습니다. 에이전트 단계에서는 기본적으로 인터넷 액세스가 꺼져 있지만, 제한적 또는 무제한 액세스를 구성할 수 있습니다. [에이전트 인터넷 액세스](https://developers.openai.com/codex/cloud/internet-access)를 참조하세요.

환경은 보안 및 남용 방지 목적상 HTTP/HTTPS 네트워크 프록시 뒤에서 실행됩니다. 모든 나가는 인터넷 트래픽은 이 프록시를 통과합니다.
